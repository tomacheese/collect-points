# GitHub Copilot Instructions

## プロジェクト概要

- **目的**: Puppeteer を使用してポイントサイト（PointTown、ECNavi）のポイント収集を自動化する。
- **主な機能**: ログイン処理、各種ゲーム・アンケート・広告の自動操作、Discord 通知。
- **対象ユーザー**: 開発者・自動化ツール利用者。

## 共通ルール

- 会話は日本語で行う。
- PR とコミットは [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) に従う。
  - `<description>` は日本語で記載する。
- 日本語と英数字の間には半角スペースを入れる。

## 技術スタック

- **言語**: TypeScript
- **ランタイム**: Node.js
- **パッケージマネージャー**: pnpm
- **ライブラリ**: Puppeteer (rebrowser-puppeteer-core), RxJS, Axios, Sentry
- **実行ツール**: tsx

## コーディング規約

- **フォーマット**: Prettier
- **Lint**: ESLint
- **命名規則**: キャメルケース（変数・関数）、パスカルケース（クラス・インターフェース）
- **docstring**: 関数やインターフェースには日本語で JSDoc を記載する。
- **型定義**: `skipLibCheck` による回避は禁止。

## 開発コマンド

```bash
# 依存関係のインストール
pnpm install

# 実行
pnpm start

# 開発実行 (ウォッチモード)
pnpm dev

# Lint チェック
pnpm run lint

# 自動修正
pnpm run fix
```

## テスト方針

- 現在、自動テスト（Jest/Vitest 等）は導入されていない。
- 動作確認は、実際にブラウザを動かし、ポイントの増減やログ出力を確認することで行う。
- 新機能実装時は、正常系だけでなくエラー系のハンドリングも確認する。

## セキュリティ / 機密情報

- 認証情報や API キーをコミットしない。
- ログに機密情報（パスワード、トークン等）を出力しない。

## ドキュメント更新

- 以下のドキュメントを最新の状態に保つ：
  - `CLAUDE.md`
  - `AGENTS.md`
  - `GEMINI.md`

## リポジトリ固有の注意事項

- **ポイント獲得の保証**: 単なるページ遷移ではなく、実際にポイントが獲得できるインタラクション（クリック、待機、回答等）を実装する必要がある。
- **広告視聴**: 広告視聴が必要なコンテンツでは、適切な待機時間を設ける。
- **ボット対策**: 適度な `sleep` を挿入し、人間らしい操作をシミュレートする。
