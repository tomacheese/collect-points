# GEMINI.md

## 目的

このファイルは、Gemini CLI 向けのコンテキストと作業方針を定義します。

## 出力スタイル

- 言語は日本語とする。
- プロフェッショナルかつ簡潔なトーン（CLI に適したスタイル）を使用する。
- 重要な判断やアクションの前には、意図を簡潔に説明する。

## 共通ルール

- 会話、PR、コミットメッセージ（description）は日本語で行う。
- コミットは Conventional Commits に従う。
- 日本語と英数字の間には半角スペースを挿入する。

## 環境のルール

- ブランチ作成時は Conventional Branch に従う（`<type>` は feat, fix 等の短縮形）。
- OS は Linux (Ubuntu) 環境であり、Git Bash / bash コマンドを使用する。
- Windows 環境であっても、原則 bash コマンドを使用し、PowerShell が必要な場合のみ明示的に呼び出す。

## Git Worktree ルール

プロジェクトで Git Worktree を使用する場合、構成は以下とする：

- `.bare/` (bare リポジトリ)
- `<branch>/` (各ブランチの worktree)

## ブラウザ操作ルール

- 座標ではなく、セレクターによって要素を特定する。
- ページ構造に変更がある場合は、実際のページを確認した上で実装を改善する。

## コード改修時のルール

- 日本語と英数字の間に半角スペースを挿入する。
- エラーメッセージの先頭に絵文字がある場合は、プロジェクト全体で統一する。
- TypeScript の `skipLibCheck` による回避は禁止。
- 関数やインターフェースには日本語で docstring (JSDoc) を記載する。

## 必ず実施すること（チェックリスト）

### 新規改修時

1. プロジェクトを詳細に探索し理解する。
2. 作業ブランチが適切である（最新のリモートに基づいている）ことを確認する。
3. `pnpm install` で依存パッケージをインストールする。

### コミット・プッシュ前

1. コミットメッセージが規約に従っているか確認する。
2. センシティブな情報が含まれていないか確認する。
3. Lint / Format エラーが発生しないことを確認する。
4. 動作確認を行い、期待通り動作することを保証する。

### プルリクエスト作成前

1. ユーザーから依頼されていることを確認する。
2. コンフリクトの恐れがないか確認する。

### プルリクエスト作成後

1. コンフリクトが発生していないか確認する。
2. PR 本文に最新の変更内容を日本語で詳しく記載する。
3. GitHub Actions CI の結果を確認し、エラーがあれば対応する。
4. コードレビュー（GitHub Copilot レビュー等）に対応する。
