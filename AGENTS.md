# AGENTS.md

## 目的

このファイルは、エージェント共通の作業方針とプロジェクトの基本ルールを定義します。

## 基本方針

- **会話言語**: 日本語
- **コメント言語**: 日本語
- **エラーメッセージ**: 英語
- **コミット規約**: [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) に従い、`<description>` は日本語で記載する。

## 判断記録のルール

判断を行った際は、以下の内容を明示的に記録（または報告）してください：

1. 判断内容の要約
2. 検討した代替案
3. 採用しなかった案とその理由
4. 前提条件・仮定・不確実性

## 開発手順（概要）

1. **プロジェクト理解**: 既存のコードベースと `CLAUDE.md` を読み、要件と制約を把握する。
2. **環境構築**: `pnpm install` で依存関係を準備する。
3. **実装**: 実装パターン（広告視聴、クイズ回答等）に従い、TypeScript で機能を実装する。
4. **検証**: Lint (`pnpm run lint`) を実行し、可能であれば実際に動作させてポイント獲得を確認する。

## セキュリティ / 機密情報

- 認証情報、API キー、秘密鍵などをコードに含めない。
- ログ出力にユーザーの個人情報やパスワードを含めない。
- `.gitignore` で指定されたファイル（`data/config.json` 等）を誤ってアップロードしない。

## リポジトリ固有の注意事項

- **ポイント獲得の追求**: 単にページを開くだけでなく、ポイントが加算される状態まで操作を完結させる。
- **エラーハンドリング**: ネットワークエラーや要素の不在に対して、リトライやスキップなどの適切な処理を行う。
- **通知**: 重要なエラーやポイント獲得状況は、Discord 等の通知機能を利用する。
